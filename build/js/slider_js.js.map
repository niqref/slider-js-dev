{"version":3,"sources":["webpack:///./slider.js"],"names":["Slider","slidesContainer","buttonPrev","buttonNext","paginationContainer","prev","next","wasStarted","isDetecting","startX","startY","moveX","moveY","shiftX","shiftY","startEvt","clientX","preventDefault","classList","add","moveEvt","contains","offsetWidth","setElementShift","endEvt","remove","currentTarget","isNext","Error","children","length","element","shift","unit","el","style","transform","addEventListener","evt","x","y","touches","clientY","Math","abs","forEach","button","toggle"],"mappings":"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","file":"js/slider_js.js","sourcesContent":["export default class Slider {\n    #slidesContainer = null;\n\n    #slides = null;\n\n    #button = {\n      prev: null,\n      next: null,\n    };\n\n    #paginationContainer = null;\n\n    #sliderShift = 100;\n\n    #currentSliderShift = 0;\n\n    #currentSlideIndex = 0;\n\n    #disabledButton = 'slider-js__button_disabled';\n\n    #shownButton = 'slider-js__button_shown';\n\n    #slidesWithoutTransition = 'slider-js__slides_no-transition';\n\n    #slidesGrabbing = 'slider-js__slides_grabbing';\n\n    #SlidesSwipeState = {\n      wasStarted: false,\n      isDetecting: false,\n      startX: null,\n      startY: null,\n      moveX: null,\n      moveY: null,\n      shiftX: null,\n      shiftY: null,\n    }\n\n    constructor({\n      slidesContainer,\n      buttonPrev,\n      buttonNext,\n      paginationContainer,\n    } = {}) {\n      if (!slidesContainer) {\n        throw new Error(`slidesContainer is ${slidesContainer}`);\n      }\n\n      this.#slidesContainer = slidesContainer;\n      this.#slides = [...this.#slidesContainer.children];\n\n      this.#button.prev = buttonPrev;\n      this.#button.next = buttonNext;\n\n      this.#paginationContainer = paginationContainer;\n    }\n\n    init() {\n      if (this.#slides.length > 1) {\n        this.#setButtonsVisibilityClass();\n        this.#updateButtonsState();\n        this.#setOnButtonsClick();\n        this.#setSlidesSwipeHandlers();\n      }\n    }\n\n    #setSlidesSwipeHandlers() {\n      this.#slidesContainer.addEventListener('touchstart', this.#onSlidesSwipeStart);\n      this.#slidesContainer.addEventListener('touchmove', this.#onSlidesSwipeMove);\n      this.#slidesContainer.addEventListener('touchend', this.#onSlidesSwipeEnd);\n\n      this.#slidesContainer.addEventListener('mousedown', this.#onSlidesSwipeStart);\n      this.#slidesContainer.addEventListener('mousemove', this.#onSlidesSwipeMove);\n      this.#slidesContainer.addEventListener('mouseup', this.#onSlidesSwipeEnd);\n    }\n\n    #onSlidesSwipeStart = (startEvt) => {\n      if (this.#SlidesSwipeState.wasStarted) {\n        return;\n      }\n\n      if (startEvt.clientX) {\n        startEvt.preventDefault();\n      }\n\n      this.#SlidesSwipeState.isDetecting = true;\n      this.#setSwipeCoords(startEvt, 'startX', 'startY');\n      this.#slidesContainer.classList.add(this.#slidesGrabbing);\n    }\n\n    #onSlidesSwipeMove = (moveEvt) => {\n      if (!this.#SlidesSwipeState.wasStarted && !this.#SlidesSwipeState.isDetecting) {\n        return;\n      }\n\n      this.#setSwipeCoords(moveEvt, 'moveX', 'moveY');\n\n      if (this.#SlidesSwipeState.isDetecting) {\n        if (this.#isNeedBlockHorizontalScroll()) {\n          // moveEvt.preventDefault();\n          this.#SlidesSwipeState.wasStarted = true;\n        }\n\n        this.#SlidesSwipeState.isDetecting = false;\n      }\n\n      if (this.#SlidesSwipeState.wasStarted) {\n        moveEvt.preventDefault();\n\n        if (!this.#slidesContainer.classList.contains(this.#slidesWithoutTransition)) {\n          this.#slidesContainer.classList.add(this.#slidesWithoutTransition);\n        }\n\n        this.#SlidesSwipeState.shiftX = ((this.#SlidesSwipeState.moveX\n          - this.#SlidesSwipeState.startX) * 100) / this.#slidesContainer.offsetWidth;\n\n        Slider.setElementShift(this.#slidesContainer, this.#SlidesSwipeState.shiftX);\n      }\n    }\n\n    #onSlidesSwipeEnd = (endEvt) => {\n      this.#slidesContainer.classList.remove(this.#slidesGrabbing);\n\n      if (!this.#SlidesSwipeState.wasStarted && this.#SlidesSwipeState.isDetecting) {\n        return;\n      }\n\n      endEvt.preventDefault();\n      this.#SlidesSwipeState.wasStarted = false;\n    }\n\n    #setSwipeCoords(evt, x, y) {\n      this.#SlidesSwipeState[x] = evt.clientX || evt.touches[0].clientX;\n      this.#SlidesSwipeState[y] = evt.clientY || evt.touches[0].clientY;\n    }\n\n    #isNeedBlockHorizontalScroll() {\n      return Math.abs(this.#SlidesSwipeState.startX - this.#SlidesSwipeState.moveX)\n      >= Math.abs(this.#SlidesSwipeState.startY - this.#SlidesSwipeState.moveY);\n    }\n\n    #setButtonsVisibilityClass() {\n      [this.#button.prev, this.#button.next]\n        .forEach((button) => button.classList.add(this.#shownButton));\n    }\n\n    #setOnButtonsClick() {\n      [this.#button.prev, this.#button.next].forEach((button) => button.addEventListener('click', this.#onButtonsClick));\n    }\n\n    #onButtonsClick = ({ currentTarget }) => {\n      const isNext = currentTarget === this.#button.next;\n      this.#updateSlider(isNext);\n    }\n\n    #updateSlider(isNext) {\n      if (this.#isSliderUpdateBlocked(isNext)) {\n        return;\n      }\n\n      this.#changeSlides(isNext);\n      this.#updateButtonsState();\n    }\n\n    #isSliderUpdateBlocked(isNext) {\n      return (!isNext && this.#currentSlideIndex === 0)\n      || (isNext && this.#currentSlideIndex === this.#slides.length - 1);\n    }\n\n    #changeSlides(isNext) {\n      this.#currentSlideIndex += isNext ? 1 : -1;\n      this.#currentSliderShift = this.#currentSlideIndex * -this.#sliderShift;\n      Slider.setElementShift(this.#slidesContainer, this.#currentSliderShift);\n    }\n\n    #updateButtonsState() {\n      if (this.#currentSlideIndex === 0 || (this.#currentSlideIndex !== 0\n        && this.#button.prev.classList.contains(this.#disabledButton))) {\n        this.#button.prev.classList.toggle(this.#disabledButton);\n      }\n\n      if (this.#currentSlideIndex === this.#slides.length - 1\n        || (this.#currentSlideIndex !== this.#slides.length - 1\n          && this.#button.next.classList.contains(this.#disabledButton))) {\n        this.#button.next.classList.toggle(this.#disabledButton);\n      }\n    }\n\n    static setElementShift(element, shift, unit = '%') {\n      const el = element;\n      el.style.transform = `translate3d(${shift}${unit}, 0, 0)`;\n    }\n}\n"],"sourceRoot":""}